I"<h1 id="choosing-grandparent-class">Choosing grandparent class</h1>
<p class="fs-5 fw-500">Usually when defining a new class, we will choose which class we will extends from.
How about choosing the parent class of the class which we will extends from? 
It is possible, and I will call it a grandparent class.</p>

<hr />
<h2 id="how-can-it-possible">How can it possible?</h2>
<p>Recently, I go through this wonderful paper of DVCon 2016 <a href="http://events.dvcon.org/2016/proceedings/papers/05_1.pdf">Paper_link</a>.</p>

<p>This paper talked about using Interface Classes, but when skimming through this paper, I noticed the author used a very interesting technique to decide which classes to extends from.
It simply take advantages of parameterized class as below.</p>
<div class="code">

  <figure class="highlight"><pre><code class="language-verilog" data-lang="verilog">     <span class="kt">class</span> <span class="n">component_a</span> <span class="p">(</span><span class="k">type</span> <span class="n">T</span> <span class="o">=</span> <span class="n">uvm_component</span><span class="p">)</span> <span class="k">extends</span> <span class="n">T</span><span class="p">;</span></code></pre></figure>

</div>

<p>Have you got the idea yet? The parameter type T class will be the class the component_a extends from.
Now if we has some of those classes as below:</p>

<div class="code">

  <figure class="highlight"><pre><code class="language-verilog" data-lang="verilog">     <span class="kt">class</span> <span class="n">component_a</span> <span class="p">(</span><span class="k">type</span> <span class="n">T</span> <span class="o">=</span> <span class="n">uvm_component</span><span class="p">)</span> <span class="k">extends</span> <span class="n">T</span><span class="p">;</span>
     <span class="kt">class</span> <span class="n">component_b</span> <span class="p">(</span><span class="k">type</span> <span class="n">T</span> <span class="o">=</span> <span class="n">uvm_component</span><span class="p">)</span> <span class="k">extends</span> <span class="n">T</span><span class="p">;</span>
     <span class="kt">class</span> <span class="n">component_c</span> <span class="p">(</span><span class="k">type</span> <span class="n">T</span> <span class="o">=</span> <span class="n">uvm_component</span><span class="p">)</span> <span class="k">extends</span> <span class="n">T</span><span class="p">;</span></code></pre></figure>

</div>

<p>We can use <code class="language-plaintext highlighter-rouge">typedef</code> to create new class type with full control of which is parent class of which.</p>
<div class="code">

  <figure class="highlight"><pre><code class="language-verilog" data-lang="verilog">     <span class="k">typedef</span> <span class="n">component_a</span> <span class="p">#(</span> <span class="n">component_b</span> <span class="p">#(</span><span class="n">component_c</span><span class="p">)</span> <span class="p">)</span> <span class="n">customized_component</span><span class="p">;</span></code></pre></figure>

</div>

<p>This literally means that type class customized_component is component_a extends from component_b extends from component_c extends from uvm_component.</p>

<hr />
<h2 id="try-it-on-my-edaplayground">Try it on my EDAplayground</h2>
<div> You can run an example of this method on this simple code here: --&gt;
<a href="https://www.edaplayground.com/x/2wVa" title="Choose your grandparent class">
<svg width="25" height="25" viewBox="0 -0.1 2 2" class="customsvg"> <use xlink:href="#svg-edaplay"></use></svg>
</a></div>

<hr />
<h2 id="now-what">Now what</h2>
<p>This is a very interesting method, but don’t be greedy since it might be painful to debug.
It is now come to our abstract thinking level to take the most advantages of this.</p>

<p>In the <a href="http://events.dvcon.org/2016/proceedings/papers/05_1.pdf">Paper</a>, the author used this to have a based class which create all the methods of interfaces classes implemented.</p>

<p>We can also use this to add another class between our class and legacy base class (sometimes we just don’t feel like to modify the legacy class or use the uvm overrides).</p>
<div class="code">

  <figure class="highlight"><pre><code class="language-verilog" data-lang="verilog">     <span class="k">typedef</span> <span class="n">test_class</span> <span class="p">#(</span> <span class="n">new_class</span> <span class="p">#(</span> <span class="n">legacy_test_base_class</span> <span class="p">)</span>  <span class="p">)</span></code></pre></figure>

</div>

<div>If you think of any other ways to use this technique, please share with me and I will put it here (with your name, of course =D ).
<a href="http://localhost:4000/emailme" title="Email me">
<svg width="25" height="25" viewBox="0 -0.1 1 1" class="customsvg"> <use xlink:href="#svg-email"></use></svg>
</a> </div>

:ET